<!DOCTYPE html>

<html>
<head>
	<title>Page Title</title>
	
</head>
<body>
<div id='dv'> 
<label id='lbl'></label>
<p id='pgr'>We’ve successfully used a GET HTTP request to retrieve (or consume) the API endpoint, which consisted of data in JSON format. However, we’re still stuck in the console – we want to display this data on the front end of the website, which we’ll do by modifying the DOM.</p>
</div>

</body>
<script type="text/javascript">

	var yakala =  document.getElementById('pgr');
//document.getElementById('lbl').innerHTML="oldu mu?";
	console.log(yakala);
	yakala.addEventListener("dblclick",  function (e){
	
	var http = new XMLHttpRequest();
	var url = 'https://translate.yandex.net/api/v1.5/tr.json/translate?';
	var word=window.getSelection().toString();
	var params = 'lang=en-tr&key=trnsl.1.1.20181228T091247Z.545860a75de93852.07e52ac32bea23cc97eef3a2d199757adc2dfa76&text=' +word;
	http.open('POST', url, true);

	//Send the proper header information along with the request
	http.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');

	http.onreadystatechange = function() {//Call a function when the state changes.
		if(http.readyState == 4 && http.status == 200) {
			alert(http.responseText);
			
			var data = JSON.parse(http.responseText);
			
			alert(data.text);
			
			
			
			}
	}
	http.send(params);
	
		},true);
	
</script>

</html>
